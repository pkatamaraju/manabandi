@{
    ViewBag.Title = "ContactUs";
    Layout = "~/Shared/_Layout.cshtml";
}

<title> ManaBandi-Contact Us</title>

<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
    $.noConflict();
    jQuery(document).ready(function () {
        jQuery("#Message").html("");
        jQuery('#tabContactUs').addClass('active');
    });

    function fnValidation() {
        var message = "";
        var phone = jQuery("#txtPhoneNumber").val(), intRegex = /^[5-9]{1}[0-9]{9}$/;

        if (jQuery("#txtPhoneNumber").val() == "") {
            message = message + "Please Enter Phone Number.<br />";
        }
        else if (phone != "" && intRegex.test(phone) == false) {
            message = message + "Please Enter Valid Phone Number.<br />";
        }

        if (jQuery("#txtSubject").val() == "") {
            message = message + "Please Enter Subject.<br />";
        }
        else if (jQuery("#txtSubject").val() != "" && /^[^<>'\"/`%-]*$/.test(jQuery("#txtSubject").val()) == false) {
            message = message + "Special Characters Are Not Allowed In Subject.<br />";
        }
        else if (jQuery("#txtSubject").val().length > 50 || jQuery("#txtSubject").val().length < 4) {
            message = message + "Subject Should Be Between 4 To 50 Characters.<br />";
        }

        if (jQuery("#txtContactUsDescription").val() == "") {
            message = message + "Please Enter Description.<br />";
        }
        else if (jQuery("#txtContactUsDescription").val() != "" && /^[^<>'\"/`%-]*$/.test(jQuery("#txtContactUsDescription").val()) == false) {
            message = message + "Special Characters Are Not Allowed In Description.<br /> ";
        }
        else if (jQuery("#txtContactUsDescription").val().length > 200 || jQuery("#txtContactUsDescription").val().length < 4) {
            message = message + "Description Should Be Between 4 To 200 Characters.<br />";
        }
        if (message == "") {
            return true;
        }
        else {
            jQuery("#Message").html(message).css("color", "Red");
            return false;
        }
    }

    function fnContactUs() {

        var form = jQuery("#ContactUsForm").serialize();

        if (fnValidation()) {
            jQuery.ajax({
                type: 'POST',
                url: '@Url.Action("ContactUs", "Footer")',
                dataType: 'json',
                data: form,
                success: function (result) {
                    if (result == 1) {
                        jQuery("#Message").html("Submitted Successfully, Our Team Will Get In Touch With You.").css("color", "green");
                        jQuery("#ContactUsForm")[0].reset();
                    }
                    else if (result == 0) {
                        jQuery("#Message").html("Please Enter Data as per validation").css("color", "Red");
                    }
                    else {
                        alert("Some Error Occured. Please Try After Sometime.");
                        window.location.href = '@Url.Action("Home", "Home")';
                    }
                },
                error: function (err) {
                    jQuery("#Message").html("Some Error Occured. Please Try After Sometime.");
                }
            });
        }
    }
</script>
<div id="divContactUs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">

    @using (Html.BeginForm("ContactUs", "Footer", FormMethod.Post, new { id = "ContactUsForm" }))
                {

        <h3 class="FormHeading">Write here to reach us</h3>
                    <div class="form-box clearfix">
                    <h3 class="form-heading text-center">Write Now</h3>
                        <div id="Message" style="padding-left:20px">
                        </div>
                    <div class="row">
                        <div class="col-md-8">
                            <div class="form-group">
                                <label for="txtPhoneNumber">Mobile<span class="MandatoryStars">*</span> :</label>
                                <input type="text" class="form-control" id="txtPhoneNumber" name="txtPhoneNumber" placeholder="9999999999" maxlength="10">
                            </div>
                        </div>
                        <div class="col-md-11">
                            <div class="form-group">
                                <label for="txtSubject">Subject<span class="MandatoryStars">*</span>:</label>
                                @Html.TextBox("txtSubject", null, new { @class = "form-control", @placeholder = " Enter Subject" })
                            </div>
                        </div>
                        <div class="col-md-11">
                            <div class="form-group">
                                <label for="">Description<span class="MandatoryStars">*</span>:</label>
                                @Html.TextArea("txtContactUsDescription", null, new { @class = "form-control", @placeholder = " Enter Descriptioin"})
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 text-center">
                            <div class="cta-actions">
                                <input id="btnRegister" type="button" value="Submit Details" class="ghost-btn first last filled" onclick="fnContactUs()" />
                            </div>
                        </div>
                    </div>
                </div>
    }

            </div>
        </div>
        <div class="row py-5">
            <div class="col-lg-1"></div>
            <div class="col-lg-10">
                <h2 class="FormHeading py-2" style="text-align:left">Your can also reach us at</h2>
                <ul class="pl-4 font14" >
                    <li class="py-2">Customer Care:-<br />EmailID:  support@ManaBandi.in <br />Phone Number:  8310276613
                    
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>